{% extends "base.html" %}
{% load static %}

{% block title %}My Jobs{% endblock %}

{% block content %}
<div class="container d-flex justify-content-center mt-5">
  <div class="dark-opaque p-4 w-100" style="max-width: 700px;">

    <h2 class="large-gold-text text-center mb-2">My Assigned Jobs</h2>
    <div class="text-center mb-4">
      <a href="{% url 'future_jobs' %}" class="btn btn-outline-gold">View Future Jobs</a>
    </div>

    {% if jobs %}
    <div class="list-group">
      {% for job in jobs %}
      <div class="list-group-item bg-transparent text-white mb-3 rounded">
        <h5 class="mb-1">{{ job.title }}</h5>
        <p class="mb-1">{{ job.property.label }}</p>
        <small>Scheduled for: {{ job.scheduled_date }}</small><br>
        <small>Status: {{ job.get_status_display }}</small><br>
        <a href="{% url 'job_detail' job.pk %}" class="btn btn-outline-gold mt-2">View Job</a>
      </div>
      {% endfor %}
    </div>
    {% else %}
    <p class="text-white text-center">You have no assigned jobs.</p>
    {% endif %}

    <div class="text-center mt-4">
      <a href="{% url 'dashboard' %}" class="btn btn-outline-silver">Back to Dashboard</a>
    </div>

  </div>
</div>

{% block extra_scripts %}
  <script src="{% static 'js/whatsapp.js' %}"></script>
  <script src="{% static 'js/script.js' %}"></script>
{% endblock %}

{% endblock content %}
