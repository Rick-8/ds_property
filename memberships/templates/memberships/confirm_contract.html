{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container dark-opaque p-5 rounded shadow">
  <h2 class="mb-5 text-gold text-center">Confirm Your Subscription</h2>

  <section class="mb-5">
    <h4 class="text-gold mb-4 border-bottom pb-2 text-center">Selected Package Details</h4>

    <div class="row justify-content-center">
      <div class="col-md-5">
        <div class="mb-3 text-center">
          <h6 class="text-gold mb-1">Package</h6>
          <p class="mb-0">{{ package.name }}</p>
        </div>

        <div class="mb-3 text-center">
          <h6 class="text-gold mb-1">Tier</h6>
          <p class="mb-0">{{ package.get_tier_display }}</p>
        </div>

        {% if property %}
        <div class="mb-3 text-center">
          <h6 class="text-gold mb-1">Property Label</h6>
          <p class="mb-0">{{ property.label }}</p>
        </div>
        {% endif %}
      </div>

      <div class="col-md-5">
        <div class="mb-3 text-center">
          <h6 class="text-gold mb-1">Category</h6>
          <p class="mb-0">{{ package.get_category_display }}</p>
        </div>

        <div class="mb-3 text-center">
          <h6 class="text-gold mb-1">Price</h6>
          <p class="mb-0">${{ package.price_usd }} / month</p>
        </div>

        {% if property %}
        <div class="mb-3 text-center">
          <h6 class="text-gold mb-1">Address</h6>
          <p class="mb-0">{{ property.address_summary }}</p>
        </div>
        {% endif %}
      </div>
    </div>
  </section>

  <section class="mb-5">
    <h4 class="text-gold mb-3 border-bottom pb-2">Terms and Conditions</h4>
    <p class="gold">By subscribing to this service, you agree to the following:</p>
    <ol class="pl-4" style="max-width: 50vw; margin: 0 auto; line-height: 1.5;">
      <li>You authorize us to charge your selected payment method on a monthly basis for the selected service package.</li>
      <li>You acknowledge that the service will automatically renew each month unless cancelled by providing a written 30-day notice.</li>
      <li>You understand that all services will be provided as outlined in your selected service tier and category, and subject to availability.</li>
      <li>You accept the responsibilities and limitations as described in the full service agreement.</li>
      <li>By proceeding, you agree to all terms and conditions as outlined in the document linked below.</li>
    </ol>

    <p class="mt-4 text-center">
      <a href="{% static 'pdfs/dsp-terms-conditions.pdf' %}" target="_blank" class="btn btn-outline-grey">
        Download Full Terms & Conditions (PDF)
      </a>
    </p>
  </section>

  <form method="post" class="text-center">
    {% csrf_token %}
    <input type="hidden" name="accepted_terms" value="true">
    <button type="submit" class="btn btn-outline-green ">Agree and Continue to Payment</button>
      <button type="button" class="btn btn-outline-gold " onclick="window.history.back();">Cancel</button>
  </form>
</div>
{% endblock %}
